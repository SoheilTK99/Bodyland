{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% block body_class %}
  product-detail-page
{% endblock %}

{% block content %}
  <style>
    .product-info-box {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      gap: 50px;
      max-width: 1000px;
      margin: 120px auto 30px auto;
      padding: 30px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease-in-out;
      direction: ltr;
    }
    
    .product-info-box:hover {
      transform: translateY(-4px);
    }
    
    .product-info-box .product-image {
      flex-shrink: 0;
      width: 320px;
      border-radius: 12px;
      object-fit: cover;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .product-details-content {
      flex-grow: 1;
      direction: rtl;
      text-align: right;
    }
    
    .product-details-content h2 {
      font-size: 28px;
      margin-bottom: 10px;
      color: #333;
    }
    
    .product-details-content .product-description {
      font-size: 16px;
      line-height: 1.8;
      color: #555;
      margin-bottom: 15px;
    }
    
    .product-details-content .product-meta p {
      font-size: 15px;
      margin: 6px 0;
      color: #444;
    }
    .product-details-content .product-meta strong {
      color: #111;
    }
    
    .purchase-detail-container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 30px;
      background-color: #f9f9f9;
      border-radius: 20px;
      box-shadow: 0 20px 20px rgba(0, 0, 0, 0.1);
      font-family: 'Vazirmatn', sans-serif;
      direction: rtl;
      box-sizing: border-box;
    }
    
    .purchase-detail-container .price {
      font-size: 24px;
      font-weight: bold;
      color: #000000ff;
      margin-bottom: 20px;
    }
    
    .purchase-detail-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 15px;
      margin-top: 20px;
    }
    
    .purchase-box {
      text-align: right;
      margin-bottom: 20px;
    }
    
    .purchase-btn {
      width: 100%;
      background-color: #e0e0e0ff;
      color: #000000ff;
      padding: 12px 0;
      font-size: 21px;
      font-weight: bold;
      border: none;
      border-radius: 100px;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
      background-color: #cbcbcb;
    }
    
    .purchase-btn:hover {
      background-color: #6c63ff;
      color: #fff;
    }
    
    .purchase-lable {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      border-radius: 20px;
      background-color: #cbcbcb;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0px 5px;
      direction: rtl;
      padding: 15px 20px;
    }
    .purchase-lable h4 {
      font-size: 18px;
      font-weight: 500;
      padding: 0px;
      padding-right: 10px;
      text-align: right;
      display: flex;
      align-items: center;
    }
    .purchase-lable h4 span img {
      width: 38px;
      height: 26px;
      object-fit: contain;
      vertical-align: middle;
      margin-left: 5px;
      margin-bottom: 0px;
    }
    
    @media (max-width: 768px) {
      .product-info-box {
        flex-direction: column;
        align-items: center;
        gap: 30px;
        padding: 20px;
        margin-top: 80px;
        direction: rtl;
      }
    
      .product-info-box .product-image {
        width: 80%;
        max-width: 300px;
      }
    
      .product-details-content {
        width: 100%;
        text-align: center;
      }
    
      .purchase-detail-container {
        margin: 30px auto;
        padding: 20px;
      }
      .purchase-box,
      .purchase-lable h4 {
        text-align: center;
      }
      .purchase-lable {
        grid-template-columns: 1fr;
        padding: 15px;
        gap: 10px;
      }
      .purchase-lable h4 {
        justify-content: center;
        padding-right: 0;
      }
    }
  </style>

  <div class="product-info-box">
    <img class="product-image" src="{{ product.product_image.url }}" alt="{{ product.product_name }}" />

    <div class="product-details-content">
      <h2>{{ product.product_name }}</h2>
      <p class="product-description">{{ product.product_discription }}</p>

      <div class="product-meta">
        <p>
          <strong>وضعیت:</strong>
          {% if product.exist %}
            موجود
          {% else %}
            ناموجود
          {% endif %}
        </p>
        <p>
          <strong>امتیاز:  </strong>{{ product.product_rate }}/5
        </p>
      </div>
    </div>
  </div>

  <div class="purchase-detail-container">
    <div class="purchase-box">
      <button class="purchase-btn">پرداخت (<span style="text-decoration: underline; font-size: 18px; font-weight: 600;">{{ product.price|intcomma }} تومان</span>)</button>
    </div>

    <div class="purchase-lable">
      <h4><span><img src="/static/assets/images/rush.png" alt="ثبت سفارش سریع" /></span>ثبت سفارش سریع</h4>
      <h4><span><img src="/static/assets/images/money-bag.png" alt="قیمت مقرون به صرفه" /></span> قیمت مقرون به صرفه</h4>
      <h4><span><img src="/static/assets/images/telephone.png" alt="پشتیبانی 24 ساعته" /></span> پشتیبانی 24 ساعته</h4>
      <h4><span><img src="/static/assets/images/medal.png" alt="کیفیت بالای محصول" /></span> کیفیت بالای محصول</h4>
      <h4><span><img src="/static/assets/images/star.png" alt="رضایت مندی مشتریان" /></span> رضایت مندی مشتریان</h4>
      <h4><span><img src="/static/assets/images/check-mark.png" alt="دارای نماد اعتماد" /></span> دارای نماد اعتماد</h4>
    </div>
  </div>
{% endblock %}
