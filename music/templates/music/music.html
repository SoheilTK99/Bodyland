{% extends 'base.html' %}
{% load static %}

{% block content %}
  <style>
    /* آکاردئون کلی */
    .accordion {
      backdrop-filter: blur(5px);
      background-color: transparent;
      border-radius: 16px;
    }
    
    /* آیتم آکاردئون */
    .accordion-item {
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 16px;
      margin-bottom: 16px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }
    
    .accordion-button {
      font-family: 'Vazirmatn', sans-serif !important;
      font-weight: 700 !important;
      position: relative;
      padding-left: 2.5rem; /* فضای کافی برای آیکون سمت چپ */
      padding-right: 1rem;
    }
    
    .accordion-button::after {
      position: absolute;
      left: 1rem; /* آیکون سمت چپ */
      right: auto;
      margin-right: 0;
    }
    .accordion-button:not(.collapsed)::after {
      transform: rotate(180deg);
    }
    
    .accordion-button:not(.collapsed) {
      background: rgba(255, 255, 255, 0.5);
      color: #4338ca;
    }
    
    /* محتوای داخلی */
    .accordion-body {
      padding: 20px;
      background: #f1f0fe;
      backdrop-filter: blur(10px);
      border-radius: 0 0 16px 16px;
      animation: fadeIn 0.3s ease;
    }
    
    /* انیمیشن نرم */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* آیتم موزیک */
    .music-item {
      background: rgb(189, 183, 246);
      border-radius: 30px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      transition: all 0.3s ease;
    }
    
    .music-item:hover {
      background: rgba(255, 255, 255, 0.8);
      transform: scale(1.02);
    }
    
    .music-item h4 {
      font-size: 17px;
      margin-bottom: 10px;
      color: #111827;
    }
    
    .music-item img {
      width: 30%;
      height: 150px; /* ارتفاع کمتر برای تصویر */
      object-fit: cover; /* نسبت تصویر حفظ میشه */
      border-radius: 8px; /* گوشه‌ها نرم‌تر */
      margin-bottom: 10px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* یه سایه‌ی نرم برای عمق بیشتر */
      margin-left: 13px;
    }
    
    .music-item audio {
      width: 100%;
      margin-top: 10px;
      border-radius: 8px;
    }
    
    .accordion-header {
      text-align: right;
      direction: rtl;
    }
    
    .accordion h4 {
      font-family: 'Vazirmatn', sans-serif;
      margin-left: 14px;
    }
  </style>
  <div class="section about-us">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 offset-lg-1">
          <div class="accordion" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">موزیک خارجی</button></h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  {% for music in musics %}
                    {% if music.categorey == 'foreign' %}
                      <div class="music-item">
                        <h4>{{ music.music_name }}</h4>
                        <img src="{{ music.label.url }}" />
                        <audio controls>
                          <source src="{{ music.music_file.url }}" type="audio/mpeg" />مرورگر شما از پخش صوتی پشتیبانی نمی‌کند.
                        </audio>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">موزیک قدیمی</button></h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  {% for music in musics %}
                    {% if music.categorey == 'old' %}
                      <div class="music-item">
                        <h4>{{ music.music_name }}</h4>
                        <img src="{{ music.label.url }}" />
                        <audio controls>
                          <source src="{{ music.music_file.url }}" type="audio/mpeg" />مرورگر شما از پخش صوتی پشتیبانی نمی‌کند.
                        </audio>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">ریمیکس ها</button></h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  {% for music in musics %}
                    {% if music.categorey == 'remix' %}
                      <div class="music-item">
                        <h4>{{ music.music_name }}</h4>
                        <img src="{{ music.label.url }}" />
                        <audio controls>
                          <source src="{{ music.music_file.url }}" type="audio/mpeg" />مرورگر شما از پخش صوتی پشتیبانی نمی‌کند.
                        </audio>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFour"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">رپ</button></h2>
              <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  {% for music in musics %}
                    {% if music.categorey == 'rap' %}
                      <div class="music-item">
                        <h4>{{ music.music_name }}</h4>
                        <img src="{{ music.label.url }}" />
                        <audio controls>
                          <source src="{{ music.music_file.url }}" type="audio/mpeg" />مرورگر شما از پخش صوتی پشتیبانی نمی‌کند.
                        </audio>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFive"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">پاپ</button></h2>
              <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  {% for music in musics %}
                    {% if music.categorey == 'pop' %}
                      <div class="music-item">
                        <h4>{{ music.music_name }}</h4>
                        <img src="{{ music.label.url }}" />
                        <audio controls>
                          <source src="{{ music.music_file.url }}" type="audio/mpeg" />مرورگر شما از پخش صوتی پشتیبانی نمی‌کند.
                        </audio>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 align-self-center">
          <div class="section-heading">
            <h6>About Us</h6>
            <h2>What make us the best academy online?</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravid risus commodo.</p>
            <div class="main-button">
              <a href="#">Discover More</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
