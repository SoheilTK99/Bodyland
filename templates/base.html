{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- __________________________________ -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet" />

    <!-- __________________________________ -->

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />

    <!-- __________________________________ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/yekan-font@1.0.0/css/yekan-font.min.css" />

    <!-- __________________________________ -->
    <!-- Bootstrap core CSS -->
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" />

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="{% static 'assets/css/fontawesome.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/owl.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/animate.css' %}" />

    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
  </head>

  <body class="{% block body_class %}
    {% endblock %}">
    <!-- Start header -->
    {% include 'partials/_header.html' %}
    <!-- End header -->

    <div class="custom-body-font">
      {% block content %}

      {% endblock %}
    </div>

    <!-- Start Footer -->
    {% include 'partials/_footer.html' %}
    <!-- End Footer -->

    <!-- Scripts -->

    <!-- Bootstrap core JavaScript -->
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/isotope.min.js' %}"></script>
    <script src="{% static 'assets/js/owl-carousel.js' %}"></script>
    <script src="{% static 'assets/js/counter.js' %}"></script>
    <script src="{% static 'assets/js/custom.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>




    <script>
      /* تبدیل اعداد انگلیسی به فارسی و تغییر فونت اعداد نسبت به متن اصلی سایت */
      const persianDigits = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹']
      
      function convertToPersianNumbersAndAddClass(element) {
        const nodes = element.querySelectorAll('*:not(script):not(style):not(textarea):not(code)')
        nodes.forEach((node) => {
          if (node.childNodes.length) {
            node.childNodes.forEach((child) => {
              if (child.nodeType === 3) {
                const original = child.nodeValue
                const converted = original.replace(/\d/g, (d) => persianDigits[d])
                if (original !== converted) {
                  const span = document.createElement('span')
                  span.className = 'numbers-only'
                  span.textContent = converted
                  node.replaceChild(span, child)
                }
              }
            })
          }
        })
      }
      
      document.addEventListener('DOMContentLoaded', () => {
        convertToPersianNumbersAndAddClass(document.body)
      })
    </script>

    <style>
      .numbers-only {
        font-family: 'Vazirmatn', sans-serif !important; /* فونت خاص برای اعداد */
      }
    </style>



    <script type="text/javascript">
      !(function () {
        var i = 'rxG3xv',
          a = window,
          d = document
        function g() {
          var g = d.createElement('script'),
            s = 'https://www.goftino.com/widget/' + i,
            l = localStorage.getItem('goftino_' + i)
          ;(g.async = !0), (g.src = l ? s + '?o=' + l : s)
          d.getElementsByTagName('head')[0].appendChild(g)
        }
        'complete' === d.readyState ? g() : a.attachEvent ? a.attachEvent('onload', g) : a.addEventListener('load', g, !1)
      })()
    </script>

    <!-- Dark Mode Scripts -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const toggleBtn = document.getElementById('themeToggle')
        const body = document.body
        const moonIcon = document.getElementById('moonIcon')
        const sunIcon = document.getElementById('sunIcon')
      
        // اگر قبلاً dark mode فعال بوده
        if (localStorage.getItem('dark-mode') === 'enabled') {
          body.classList.add('dark-mode')
          moonIcon.style.display = 'none'
          sunIcon.style.display = 'inline'
        } else {
          moonIcon.style.display = 'inline'
          sunIcon.style.display = 'none'
        }
      
        toggleBtn.addEventListener('click', () => {
          body.classList.toggle('dark-mode')
      
          const isDark = body.classList.contains('dark-mode')
      
          moonIcon.style.display = isDark ? 'none' : 'inline'
          sunIcon.style.display = isDark ? 'inline' : 'none'
      
          localStorage.setItem('dark-mode', isDark ? 'enabled' : 'disabled')
        })
      })
    </script>
  </body>
</html>
